{"version":3,"sources":["courses/index.ts","RegistrationStatus.ts","Plan.ts","Requirements.ts","requirements/index.ts","RequirementSelector.tsx","CourseList.tsx","RequirementView.tsx","CourseMovementConfirmationModal.tsx","getValueFromModal.tsx","RequirementsRootView.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["codeToCourse","Map","courses","course","set","code","RegistrationStatus","toJSON","courseToStatus","courseToRequirement","requirementToOthersCount","selectionNameToOptionName","map","status","requirement","name","creditsCounts","fromJSON","json","nameToRequirement","get","undefined","Error","courseCode","requirementName","emptyPlan","Requirement","plan","requiredCreditsCount","this","getRequiredCreditsCount","registeredCreditsCounts","getRegisteredCreditsCount","acquired","min","Acquired","registered","Registered","Unregistered","RequirementWithChildren","description","children","creditsCount","includesExcess","reduce","previous","child","childRegisteredCreditsCount","Math","max","childRequiredCreditsCount","getStatus","RequirementWithCourses","allowsOthers","othersCount","courseStatus","SelectionRequirement","selectionName","options0","options","optionNameToRequirement","selectedOptionName","getSelectedOptionName","selectedRequirement","getSelectedRequirement","numberOrRangeToRange","numberOrRange","obj","isCompatible","$object","$number","getRequirementAndDictionaryFromJSON","selectionNameToCount","dictionary","requirementAndDictionaryArray","flatMap","entries","selectionCount","optionAndDictionaryArray","optionJSON","option","requirementAndDictionaryMap","coins17_0","mast17_0","klis17_0","defaultSelected","RequirementSelector","onChange","Form","Group","Label","Control","as","e","newRequirementName","target","value","CourseListItem","onClick","currentRequirement","newRequirement","disabled","ListGroup","Item","action","variant","className","title","Badge","CourseList","onCourseClick","key","has","filter","includes","CreditsCountLabelDelimiter","ExceededCreditsCountLabel","CreditsCountLabels","exceededCreditsCount","RequirementSummaryView","RequirementWithChildrenView","showsOnlyRegistered","onOthersCountsChange","onSelectionChange","OthersCountInput","currentOthersCount","onReturn","onHide","useState","setAcquired","registeredExcludingAcquired","setRegisteredExcludingAcquired","registeredIncludingAcquired","setRegisteredIncludingAcquired","computed","Card","body","border","onSubmit","preventDefault","Row","Col","md","controlId","type","placeholder","isInvalid","Feedback","ButtonToolbar","Button","RequirementWithCoursesView","isOpen","setIsOpen","showsInput","setShowsInput","Accordion","activeKey","length","block","Collapse","eventKey","SelectionRequirementView","Dropdown","Toggle","id","style","overflow","textOverflow","Menu","zIndex","active","newOptionName","RequirementView","CourseMovementConfirmationModal","onExited","show","setShow","Modal","Body","Footer","initialModalsAndCount","modals","count","getValueFromModal","ModalType","props","setModalsAndCount","a","Promise","resolve","reject","modal","RequirementsRootView","setShowsOnlyRegistered","modalsAndCount","useModals","handleCourseClick","currentStatus","newCourseToStatus","clearCourseToRequirementInSelection","newCourseToRequirement","clearCourseToRequirement","delete","Check","custom","label","checked","newOthersCount","usePlan","useLocalStorage","storedJSON","setStoredJSON","storedPlanEntries","planJSON","requirementAndDictionary","planMap0","setPlanMap0","planMap","setPlanMap","newPlanMap","planJSONEntries","usePlanMap","setPlan","newPlan","App","selected","setSelected","Navbar","bg","Brand","Container","Alert","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5633e357.chunk.js","sourcesContent":["import Course from '../Course';\nimport courses from './courses1.json';\n\nconst codeToCourse = new Map<string, Course>();\n\nfor (const course of courses) {\n    codeToCourse.set(course.code, course);\n}\n\nexport default codeToCourse;","enum RegistrationStatus {\n    Unregistered = 0,\n    Registered = 1,\n    Acquired = 2,\n}\n\nexport default RegistrationStatus;","import Course from \"./Course\";\nimport RegistrationStatus from \"./RegistrationStatus\";\nimport { RegisteredCreditsCounts, RequirementWithCourses } from \"./Requirements\";\n\nexport type CourseCode = string;\nexport type RequirementName = string;\n\nexport interface PlanJSON {\n    readonly courseToStatus: readonly [CourseCode, RegistrationStatus][];\n    readonly courseToRequirement: readonly [CourseCode, RequirementName][];\n    readonly requirementToOthersCount: readonly [RequirementName, RegisteredCreditsCounts][];\n    readonly selectionNameToOptionName: readonly [string, string][];\n}\n\nexport default interface Plan {\n    readonly courseToStatus: ReadonlyMap<Course, RegistrationStatus>;\n    readonly courseToRequirement: ReadonlyMap<Course, RequirementWithCourses>;\n    readonly requirementToOthersCount: ReadonlyMap<RequirementWithCourses, RegisteredCreditsCounts>;\n    readonly selectionNameToOptionName: ReadonlyMap<string, string>;\n}\n\nexport const toJSON =\n    ({ courseToStatus, courseToRequirement, requirementToOthersCount, selectionNameToOptionName }: Plan): PlanJSON => ({\n        courseToStatus: [...courseToStatus].map(([course, status]) => [course.code, status]),\n        courseToRequirement: [...courseToRequirement].map(([course, requirement]) => [course.code, requirement.name]),\n        requirementToOthersCount: [...requirementToOthersCount].map(([requirement, creditsCounts]) => [requirement.name, creditsCounts]),\n        selectionNameToOptionName: [...selectionNameToOptionName],\n    });\n\nexport const fromJSON = (json: PlanJSON, { codeToCourse, nameToRequirement }: {\n    codeToCourse: ReadonlyMap<CourseCode, Course>,\n    nameToRequirement: ReadonlyMap<RequirementName, RequirementWithCourses>,\n}): Plan => {\n    const courseToStatus = new Map([...json.courseToStatus].map(([code, status]) => {\n        const course = codeToCourse.get(code);\n        if (course === undefined) { throw new Error(); }\n        return [course, status];\n    }));\n\n    const courseToRequirement = new Map([...json.courseToRequirement].map(([courseCode, requirementName]) => {\n        const course = codeToCourse.get(courseCode);\n        const requirement = nameToRequirement.get(requirementName);\n\n        if (course === undefined) { throw new Error(); }\n        if (requirement === undefined) { throw new Error(); }\n\n        return [course, requirement];\n    }));\n\n    const requirementToOthersCount = new Map([...json.requirementToOthersCount].map(([requirementName, creditsCounts]) => {\n        const requirement = nameToRequirement.get(requirementName);\n        if (requirement === undefined) { throw new Error(); }\n        return [requirement, creditsCounts];\n    }));\n\n    const selectionNameToOptionName = new Map(json.selectionNameToOptionName);\n\n    return { courseToStatus, courseToRequirement, requirementToOthersCount, selectionNameToOptionName }\n}\n\nexport const emptyPlan: Plan = {\n    courseToStatus: new Map(),\n    courseToRequirement: new Map(),\n    requirementToOthersCount: new Map(),\n    selectionNameToOptionName: new Map(),\n};","import { $number, $object, isCompatible } from \"@hiroto/json-type-checker\";\nimport Course from \"./Course\";\nimport Plan from \"./Plan\";\nimport RegistrationStatus from \"./RegistrationStatus\";\n\ntype Requirements = RequirementWithChildren | RequirementWithCourses | SelectionRequirement;\nexport default Requirements;\n\nabstract class Requirement {\n    abstract getRegisteredCreditsCount(plan: Plan, includesExcess: boolean): RegisteredCreditsCounts;\n    abstract getRequiredCreditsCount(selectionNameToOptionName: ReadonlyMap<string, string>): Range;\n    constructor(readonly name: string) { }\n    getStatus(plan: Plan): RegistrationStatus {\n        const requiredCreditsCount = this.getRequiredCreditsCount(plan.selectionNameToOptionName);\n        const registeredCreditsCounts = this.getRegisteredCreditsCount(plan, false);\n        return registeredCreditsCounts.acquired >= requiredCreditsCount.min ?\n            RegistrationStatus.Acquired :\n            registeredCreditsCounts.registered >= requiredCreditsCount.min ?\n                RegistrationStatus.Registered :\n                RegistrationStatus.Unregistered;\n    };\n}\n\nexport interface Range {\n    min: number;\n    max: number;\n}\nexport const isRange = (obj: unknown): obj is Range => isCompatible(obj, $object({ min: $number, max: $number }));\n\nexport interface RegisteredCreditsCounts {\n    acquired: number;\n    registered: number;\n}\n\nexport interface RequirementWithChildrenInit {\n    readonly name: string;\n    readonly description?: string;\n    readonly children: Iterable<Requirements>;\n    readonly creditsCount?: Range;\n}\n\nexport class RequirementWithChildren extends Requirement implements RequirementWithChildrenInit {\n    readonly description?: string;\n    readonly children: readonly Requirements[];\n    readonly creditsCount?: Range;\n    constructor({ name, description, children, creditsCount }: RequirementWithChildrenInit) {\n        super(name);\n        this.description = description\n        this.children = [...children];\n        this.creditsCount = creditsCount;\n    }\n    getRegisteredCreditsCount(plan: Plan, includesExcess: boolean): RegisteredCreditsCounts {\n        const creditsCounts = this.children.reduce(\n            (previous, child) => {\n                const childRegisteredCreditsCount = child.getRegisteredCreditsCount(plan, includesExcess);\n                return {\n                    acquired: previous.acquired + childRegisteredCreditsCount.acquired,\n                    registered: previous.registered + childRegisteredCreditsCount.registered,\n                }\n            },\n            { acquired: 0, registered: 0 }\n        );\n        return includesExcess || this.creditsCount === undefined ? creditsCounts : {\n            acquired: Math.min(this.creditsCount.max, creditsCounts.acquired),\n            registered: Math.min(this.creditsCount.max, creditsCounts.registered),\n        };\n    }\n    getRequiredCreditsCount(selectionNameToOptionName: ReadonlyMap<string, string>): Range {\n        return this.creditsCount === undefined ? this.children.reduce((previous, child) => {\n            const childRequiredCreditsCount = child.getRequiredCreditsCount(selectionNameToOptionName);\n            return {\n                min: previous.min + childRequiredCreditsCount.min,\n                max: previous.max + childRequiredCreditsCount.max,\n            }\n        }, { min: 0, max: 0 }) : this.creditsCount;\n    }\n    getStatus(plan: Plan): RegistrationStatus {\n        return Math.min(\n            super.getStatus(plan),\n            ...this.children.map(child => child.getStatus(plan))\n        );\n    };\n}\n\nexport interface RequirementWithCoursesInit {\n    readonly name: string;\n    readonly description?: string;\n    readonly courses: Iterable<Course>;\n    readonly creditsCount: Range;\n    readonly allowsOthers?: boolean;\n}\n\nexport class RequirementWithCourses extends Requirement {\n    readonly description?: string;\n    readonly courses: readonly Course[];\n    readonly creditsCount: Range;\n    readonly allowsOthers: boolean;\n    constructor({ name, description, courses, creditsCount, allowsOthers = false }: RequirementWithCoursesInit) {\n        super(name);\n        this.description = description;\n        this.courses = [...courses];\n        this.creditsCount = creditsCount;\n        this.allowsOthers = allowsOthers;\n    }\n    getRegisteredCreditsCount(plan: Plan, includesExcess: boolean): RegisteredCreditsCounts {\n        const othersCount = plan.requirementToOthersCount.get(this) || { acquired: 0, registered: 0 };\n        const creditsCounts = this.courses.reduce((previous, course): RegisteredCreditsCounts => {\n            const courseStatus = plan.courseToStatus.get(course) || RegistrationStatus.Unregistered;\n            if (plan.courseToRequirement.get(course) === this) {\n                return courseStatus === RegistrationStatus.Acquired ?\n                    {\n                        acquired: previous.acquired + course.creditsCount,\n                        registered: previous.registered + course.creditsCount,\n                    } :\n                    courseStatus === RegistrationStatus.Registered ?\n                        {\n                            acquired: previous.acquired,\n                            registered: previous.registered + course.creditsCount,\n                        } :\n                        previous;\n            } else {\n                return previous;\n            }\n        }, othersCount);\n        return includesExcess || this.creditsCount === undefined ? creditsCounts : {\n            acquired: Math.min(this.creditsCount.max, creditsCounts.acquired),\n            registered: Math.min(this.creditsCount.max, creditsCounts.registered),\n        };\n    }\n    getRequiredCreditsCount() {\n        return this.creditsCount;\n    }\n}\n\ninterface Option {\n    name: string;\n    requirement: Requirements;\n}\n\nexport interface SelectionRequirementInit {\n    readonly name: string;\n    readonly selectionName: string;\n    readonly options: Iterable<Option>;\n}\n\nexport class SelectionRequirement extends Requirement implements SelectionRequirementInit {\n    readonly selectionName: string;\n    readonly options: Option[];\n    readonly optionNameToRequirement: ReadonlyMap<string, Requirements>;\n    constructor({ name, selectionName, options: options0 }: SelectionRequirementInit) {\n        super(name);\n        this.selectionName = selectionName;\n        const options = [...options0]\n        this.options = options;\n        this.optionNameToRequirement = new Map(options.map(({ name, requirement }) => [name, requirement]));\n    }\n    getSelectedOptionName(selectionNameToOptionName: ReadonlyMap<string, string>) {\n        const selectedOptionName = selectionNameToOptionName.get(this.selectionName) || this.options[0].name;\n        return selectedOptionName;\n    }\n    getSelectedRequirement(selectionNameToOptionName: ReadonlyMap<string, string>) {\n        const selectedOptionName = this.getSelectedOptionName(selectionNameToOptionName);\n        const selectedRequirement = this.optionNameToRequirement.get(selectedOptionName);\n        return selectedRequirement;\n    }\n    getRegisteredCreditsCount(plan: Plan, includesExcess: boolean): RegisteredCreditsCounts {\n        const selectedRequirement = this.getSelectedRequirement(plan.selectionNameToOptionName);\n        if (selectedRequirement === undefined) {\n            return { acquired: 0, registered: 0 };\n        } else {\n            return selectedRequirement.getRegisteredCreditsCount(plan, includesExcess);\n        }\n    }\n    getRequiredCreditsCount(selectionNameToOptionName: ReadonlyMap<string, string>): Range {\n        const selectedRequirement = this.getSelectedRequirement(selectionNameToOptionName);\n        if (selectedRequirement === undefined) {\n            return { min: 0, max: 0 };\n        } else {\n            return selectedRequirement.getRequiredCreditsCount(selectionNameToOptionName);\n        }\n    }\n}\n","import codeToCourse from '../courses';\nimport Requirements, { isRange, Range, RequirementWithChildren, RequirementWithCourses, SelectionRequirement } from '../Requirements';\nimport coins17_0 from './coins17.json';\nimport klis17_0 from './klis17.json';\nimport mast17_0 from './mast17.json';\n\ntype RequirementsJSON = RequirementWithChildrenJSON | RequirementWithCoursesJSON | SelectionRequirementJSON;\n\ninterface RequirementWithChildrenJSON {\n    readonly name: string;\n    readonly description?: string;\n    readonly children: readonly RequirementsJSON[];\n    readonly creditsCount?: number | Range;\n}\n\ninterface RequirementWithCoursesJSON {\n    readonly name: string;\n    readonly description?: string;\n    readonly courses: readonly string[];\n    readonly creditsCount: number | Range;\n    readonly allowsOthers?: boolean;\n}\n\ntype OptionJSON = {\n    readonly name: string;\n    readonly requirement: RequirementsJSON;\n} | RequirementsJSON;\n\ninterface SelectionRequirementJSON {\n    readonly name?: string;\n    readonly selectionName: string;\n    readonly options: readonly OptionJSON[];\n}\n\ninterface RequirementAndDictionary {\n    readonly requirement: Requirements;\n    readonly dictionary: ReadonlyMap<string, RequirementWithCourses>;\n}\n\nconst numberOrRangeToRange = (numberOrRange: number | Range): Range =>\n    isRange(numberOrRange) ? numberOrRange : {\n        min: numberOrRange,\n        max: numberOrRange,\n    };\n\nconst getRequirementAndDictionaryFromJSON = (json: RequirementsJSON, selectionNameToCount: Map<string, number>): RequirementAndDictionary => {\n    if ('courses' in json) {\n        const requirement = new RequirementWithCourses({\n            name: json.name,\n            description: json.description,\n            creditsCount: numberOrRangeToRange(json.creditsCount),\n            courses: json.courses.map(courseCode => {\n                const course = codeToCourse.get(courseCode);\n                if (course === undefined) { throw new Error(`科目番号 ${courseCode} は定義されていません。`); }\n                return course;\n            }),\n            allowsOthers: json.allowsOthers,\n        });\n        return {\n            requirement,\n            dictionary: new Map([[requirement.name, requirement]]),\n        };\n    } else if ('children' in json) {\n        const requirementAndDictionaryArray = json.children.map(child => getRequirementAndDictionaryFromJSON(child, selectionNameToCount));\n        const requirement = new RequirementWithChildren({\n            name: json.name,\n            description: json.description,\n            children: requirementAndDictionaryArray.map(({ requirement }) => requirement),\n            creditsCount: json.creditsCount === undefined ? undefined : numberOrRangeToRange(json.creditsCount),\n        });\n        return {\n            requirement,\n            dictionary: new Map(\n                requirementAndDictionaryArray.flatMap(({ dictionary }) => [...dictionary.entries()])\n            ),\n        };\n    } else {\n        const selectionCount = selectionNameToCount.get(json.selectionName) || 0;\n        selectionNameToCount.set(json.selectionName, selectionCount + 1);\n        const optionAndDictionaryArray = json.options.map(optionJSON => {\n            if ('requirement' in optionJSON) {\n                const { requirement, dictionary } = getRequirementAndDictionaryFromJSON(optionJSON.requirement, selectionNameToCount);\n                return {\n                    option: { requirement, name: optionJSON.name },\n                    dictionary,\n                };\n            } else {\n                const { requirement, dictionary } = getRequirementAndDictionaryFromJSON(optionJSON, selectionNameToCount);\n                return {\n                    option: { requirement, name: requirement.name },\n                    dictionary,\n                };\n            }\n        })\n        const requirement = new SelectionRequirement({\n            name: `${json.selectionName}_${selectionCount}`,\n            selectionName: json.selectionName,\n            options: optionAndDictionaryArray.map(({ option }) => option),\n        });\n        return {\n            requirement,\n            dictionary: new Map(\n                optionAndDictionaryArray.flatMap(({ dictionary }) => [...dictionary.entries()])\n            )\n        };\n    }\n};\n\nconst requirementAndDictionaryMap = new Map([\n    ['coins17', { name: 'coins17', ...getRequirementAndDictionaryFromJSON(coins17_0, new Map()) }],\n    ['mast17', { name: 'mast17', ...getRequirementAndDictionaryFromJSON(mast17_0, new Map()) }],\n    ['klis17', { name: 'klis17', ...getRequirementAndDictionaryFromJSON(klis17_0, new Map()) }],\n]);\n\nexport default requirementAndDictionaryMap;","import React from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport Requirements, { RequirementWithCourses } from \"./Requirements\";\nimport requirementAndDictionaryMap from './requirements/index';\n\nconst RequirementSelector = ({ onChange }: {\n    onChange: (selected: {\n        name: string,\n        requirement: Requirements,\n        dictionary: ReadonlyMap<string, RequirementWithCourses>,\n    }) => void\n}) => {\n    return (\n        <Form.Group>\n            <Form.Label>学類を選択</Form.Label>\n            <Form.Control\n                as=\"select\"\n                onChange={\n                    e => {\n                        const newRequirementName = (e.target as HTMLSelectElement).value;\n                        onChange(requirementAndDictionaryMap.get(newRequirementName)!);\n                    }\n                }\n            >\n                <option value=\"coins17\">情報科学類（2017年度入学）</option>\n                <option value=\"mast17\">情報メディア創成学類（2017年度入学）</option>\n                <option value=\"klis17\">知識情報・図書館学類（2017年度入学）</option>\n            </Form.Control>\n        </Form.Group>\n    )\n};\n\nexport const defaultSelected = requirementAndDictionaryMap.get('coins17')!;\nexport default RequirementSelector;","import React from 'react';\nimport { Badge, ListGroup } from \"react-bootstrap\";\nimport Course from \"./Course\";\nimport Plan from './Plan';\nimport RegistrationStatus from \"./RegistrationStatus\";\nimport Requirements, { RequirementWithCourses } from \"./Requirements\";\n\nconst CourseListItem = ({ course, status, onClick, currentRequirement, newRequirement, disabled }: {\n    course: Course,\n    status: RegistrationStatus,\n    onClick: () => void,\n    currentRequirement: Requirements | undefined,\n    newRequirement: Requirements,\n    disabled: boolean,\n}) => (\n        <ListGroup.Item action disabled={disabled} onClick={onClick}\n            variant={\n                status === RegistrationStatus.Unregistered ? undefined :\n                    currentRequirement === newRequirement ?\n                        status === RegistrationStatus.Acquired ? 'success' : 'primary' :\n                        'dark'\n            }>\n            <div className=\"d-flex justify-content-between align-items-center\">\n                <div>\n                    <div>{course.title}</div>\n                    <code>{course.code}</code>\n                </div>\n                <div className=\"ml-2 text-right flex-shrink-0\">\n                    {\n                        status === RegistrationStatus.Unregistered || currentRequirement === newRequirement ?\n                            (<></>) :\n                            currentRequirement === undefined ?\n                                (<Badge variant=\"secondary\">?</Badge>) :\n                                (<Badge variant=\"warning\">!</Badge>)\n                    }\n                    <Badge variant={status === RegistrationStatus.Acquired ? 'success' : status === RegistrationStatus.Registered ? 'primary' : 'secondary'}>\n                        {status === RegistrationStatus.Acquired ? '修得済み' : status === RegistrationStatus.Registered ? '履修する' : '履修しない'}\n                    </Badge>\n                    <div><span className=\"text-muted\">単位数</span> <strong>{course.creditsCount}</strong></div>\n                </div>\n            </div>\n        </ListGroup.Item>\n    );\n\nconst CourseList = ({ requirement, courses, plan, onCourseClick }: {\n    requirement: RequirementWithCourses,\n    courses: readonly Course[],\n    plan: Plan,\n    onCourseClick: (course: Course) => void,\n}) => (\n        <ListGroup>\n            {\n                courses.map((course: Course) => (\n                    <CourseListItem\n                        key={course.code} course={course}\n                        currentRequirement={plan.courseToRequirement.get(course)}\n                        newRequirement={requirement}\n                        status={plan.courseToStatus.get(course) || RegistrationStatus.Unregistered}\n                        onClick={() => onCourseClick(course)}\n                        disabled={\n                            (!plan.courseToStatus.has(course) || plan.courseToStatus.get(course) === RegistrationStatus.Unregistered) &&\n                            [...plan.courseToStatus.entries()]\n                                .filter(([_, status]) => status !== RegistrationStatus.Unregistered)\n                                .map(([course, _]) => course.title)\n                                .includes(course.title)\n                        }\n                    />\n                ))\n            }\n        </ListGroup>\n    );\n\nexport default CourseList;","import React, { useState } from 'react';\nimport { Accordion, Badge, Button, ButtonToolbar, Card, Col, Dropdown, Form, ListGroup } from \"react-bootstrap\";\nimport Course from \"./Course\";\nimport CourseList from \"./CourseList\";\nimport Plan from './Plan';\nimport RegistrationStatus from \"./RegistrationStatus\";\nimport Requirements, { RegisteredCreditsCounts, RequirementWithChildren, RequirementWithCourses, SelectionRequirement } from \"./Requirements\";\n\nconst CreditsCountLabelDelimiter = () => (<span className=\"text-muted\"> / </span>)\n\nconst ExceededCreditsCountLabel = ({ creditsCount }: { creditsCount: number }) => (\n    <>\n        <span className=\"text-muted\">(</span>\n        +{creditsCount}\n        <span className=\"text-muted\">)</span>\n    </>\n);\n\nconst CreditsCountLabels = ({ requirement, plan }: {\n    requirement: Requirements,\n    plan: Plan,\n}) => {\n    const creditsCount = requirement.getRegisteredCreditsCount(plan, false);\n    const exceededCreditsCount = requirement.getRegisteredCreditsCount(plan, true);\n    const requiredCreditsCount = requirement.getRequiredCreditsCount(plan.selectionNameToOptionName);\n\n    return (\n        <div>\n            <span>\n                <span className=\"text-muted\">習得</span>\n                <> </>\n                <strong className=\"text-success\">{creditsCount.acquired}</strong>\n                {exceededCreditsCount.acquired > creditsCount.acquired ? (<ExceededCreditsCountLabel creditsCount={exceededCreditsCount.acquired - creditsCount.acquired} />) : (<></>)}\n            </span>\n            <CreditsCountLabelDelimiter />\n            <span>\n                <span className=\"text-muted\">履修</span>\n                <> </>\n                <strong className=\"text-primary\">{creditsCount.registered}</strong>\n                {exceededCreditsCount.registered > creditsCount.registered ? (<ExceededCreditsCountLabel creditsCount={exceededCreditsCount.registered - creditsCount.registered} />) : (<></>)}\n            </span>\n            <CreditsCountLabelDelimiter />\n            <span>\n                <span className=\"text-muted\">必要</span>\n                <> </>\n                <strong>\n                    {\n                        requiredCreditsCount.min === requiredCreditsCount.max ?\n                            requiredCreditsCount.min :\n                            `${requiredCreditsCount.min}~${requiredCreditsCount.max}`\n                    }\n                </strong>\n            </span>\n        </div>\n    )\n};\n\nexport const RequirementSummaryView = ({ requirement, plan }: {\n    requirement: RequirementWithChildren | RequirementWithCourses,\n    plan: Plan,\n}) => {\n    const status = requirement.getStatus(plan);\n    return (\n        <>\n            <h5 className=\"d-flex justify-content-between align-items-center\">\n                <div>{requirement.name}</div>\n                <Badge className=\"ml-2 flex-shrink-0\" variant={status === RegistrationStatus.Acquired ? 'success' : status === RegistrationStatus.Registered ? 'primary' : 'secondary'}>\n                    {status === RegistrationStatus.Acquired ? '修得OK' : status === RegistrationStatus.Registered ? '履修OK' : '不足'}\n                </Badge>\n            </h5>\n            <div>\n                {requirement.description === undefined ? (<></>) : (<div className=\"text-muted\">{requirement.description}</div>)}\n                <CreditsCountLabels requirement={requirement} plan={plan} />\n            </div>\n        </>\n    );\n}\n\nconst RequirementWithChildrenView = ({ requirement, showsOnlyRegistered, plan, onCourseClick, onOthersCountsChange, onSelectionChange }: {\n    requirement: RequirementWithChildren,\n    showsOnlyRegistered: boolean,\n    plan: Plan,\n    onCourseClick: (course: Course, requirement: RequirementWithCourses) => void,\n    onOthersCountsChange: (requirement: RequirementWithCourses, newOthersCount: RegisteredCreditsCounts) => void,\n    onSelectionChange: (selectionName: string, newOptionName: string) => void,\n}) => (\n        <>\n            <RequirementSummaryView requirement={requirement} plan={plan} />\n            <ListGroup className=\"mt-3\">\n                {\n                    requirement.children.map(child => (\n                        <ListGroup.Item key={child.name}>\n                            <RequirementView\n                                requirement={child} showsOnlyRegistered={showsOnlyRegistered} plan={plan}\n                                onCourseClick={onCourseClick} onSelectionChange={onSelectionChange}\n                                onOthersCountsChange={onOthersCountsChange}\n                            />\n                        </ListGroup.Item>\n                    ))\n                }\n            </ListGroup>\n        </>\n    );\n\nconst OthersCountInput = ({ currentOthersCount, onReturn, onHide }: {\n    currentOthersCount: RegisteredCreditsCounts,\n    onReturn: (newOthersCount: RegisteredCreditsCounts) => void,\n    onHide: () => void,\n}) => {\n    const [acquired, setAcquired] = useState(undefined as number | undefined);\n    const [registeredExcludingAcquired, setRegisteredExcludingAcquired] = useState(undefined as number | undefined);\n    const [registeredIncludingAcquired, setRegisteredIncludingAcquired] = useState(undefined as number | undefined);\n\n    const computed = {\n        acquired: acquired || currentOthersCount.acquired,\n        registered:\n            registeredIncludingAcquired !== undefined ?\n                registeredIncludingAcquired :\n                registeredExcludingAcquired !== undefined ?\n                    (acquired !== undefined ? acquired : currentOthersCount.acquired) + registeredExcludingAcquired :\n                    acquired !== undefined ?\n                        currentOthersCount.registered + acquired - currentOthersCount.acquired :\n                        currentOthersCount.registered,\n    }\n\n    return (\n        <Card body border=\"primary\">\n            <Form onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\n                e.preventDefault();\n                onReturn(computed);\n                onHide();\n            }}>\n                <Form.Row>\n                    <Form.Group as={Col} md=\"4\" controlId=\"validationCustom01\">\n                        <Form.Label>習得済みの単位数 <span className=\"text-muted\">(a)</span></Form.Label>\n                        <Form.Control\n                            type=\"number\" min={0}\n                            placeholder={`${computed.acquired}`}\n                            value={acquired === undefined ? '' : `${acquired}`}\n                            onChange={\n                                (e: React.ChangeEvent<HTMLInputElement>) =>\n                                    setAcquired(e.target.value === '' ? undefined : +e.target.value)\n                            }\n                            isInvalid={computed.acquired < 0}\n                        />\n                        <Form.Control.Feedback type=\"invalid\">(a) &gt;= 0</Form.Control.Feedback>\n                    </Form.Group>\n                    <Form.Group as={Col} md=\"4\" controlId=\"validationCustom02\">\n                        <Form.Label>履修する単位数 <span className=\"text-muted\">(b)</span></Form.Label>\n                        <Form.Control\n                            type=\"number\" min={0}\n                            placeholder={`${computed.registered - computed.acquired}`}\n                            value={registeredExcludingAcquired === undefined ? '' : `${registeredExcludingAcquired}`}\n                            onChange={\n                                (e: React.ChangeEvent<HTMLInputElement>) => {\n                                    if (e.target.value === '') {\n                                        setRegisteredExcludingAcquired(undefined);\n                                    } else {\n                                        setRegisteredExcludingAcquired(+e.target.value);\n                                        setRegisteredIncludingAcquired(undefined);\n                                    }\n                                }\n                            }\n                            isInvalid={computed.acquired > computed.registered}\n                        />\n                        <Form.Control.Feedback type=\"invalid\">(b) &gt;= 0</Form.Control.Feedback>\n                    </Form.Group>\n                    <Form.Group as={Col} md=\"4\" controlId=\"validationCustom02\">\n                        <Form.Label>計 <span className=\"text-muted\">(a) + (b)</span></Form.Label>\n                        <Form.Control\n                            type=\"number\" min={0}\n                            placeholder={`${computed.registered}`}\n                            value={registeredIncludingAcquired === undefined ? '' : `${registeredIncludingAcquired}`}\n                            onChange={\n                                (e: React.ChangeEvent<HTMLInputElement>) => {\n                                    if (e.target.value === '') {\n                                        setRegisteredIncludingAcquired(undefined);\n                                    } else {\n                                        setRegisteredIncludingAcquired(+e.target.value);\n                                        setRegisteredExcludingAcquired(undefined);\n                                    }\n                                }\n                            }\n                        />\n                    </Form.Group>\n                </Form.Row>\n                <ButtonToolbar>\n                    <Button\n                        type=\"submit\"\n                        disabled={computed.acquired < 0 || computed.acquired > computed.registered}\n                    >OK</Button>\n                    <Button variant=\"secondary\" onClick={onHide}>キャンセル</Button>\n                </ButtonToolbar>\n            </Form>\n        </Card>\n    )\n}\n\nconst RequirementWithCoursesView = ({ requirement, showsOnlyRegistered, plan, onCourseClick, onOthersCountsChange }: {\n    requirement: RequirementWithCourses,\n    showsOnlyRegistered: boolean,\n    plan: Plan,\n    onCourseClick: (course: Course, requirement: RequirementWithCourses) => void,\n    onOthersCountsChange: (newOthersCount: RegisteredCreditsCounts) => void,\n}) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const [showsInput, setShowsInput] = useState(false);\n\n    const courses = requirement.courses.filter(course =>\n        !showsOnlyRegistered || (plan.courseToStatus.get(course) !== RegistrationStatus.Unregistered &&\n            requirement === plan.courseToRequirement.get(course)));\n\n    return (\n        <>\n            <Accordion activeKey={isOpen ? '0' : ''}>\n                <div className={`bg-white ${isOpen ? 'sticky-top' : ''}`}>\n                    <RequirementSummaryView requirement={requirement} plan={plan} />\n                    {\n                        courses.length === 0 ?\n                            requirement.allowsOthers ? (\n                                showsInput ? (<></>) : (\n                                    <Button block className=\"mt-3\" variant=\"secondary\" onClick={() => setShowsInput(true)}>\n                                        単位数を入力\n                                    </Button>\n                                )\n                            ) : (\n                                    <Button block className=\"mt-3\" variant=\"outline-secondary\" disabled>\n                                        {showsOnlyRegistered ? '履修する' : ''}科目はありません\n                                    </Button>\n                                ) : (\n                                <Button\n                                    block className=\"mt-3\"\n                                    onClick={() => setIsOpen(!isOpen)}\n                                    variant={isOpen ? 'primary' : 'outline-secondary'}\n                                >\n                                    {showsOnlyRegistered ? '履修する' : ''}科目を{isOpen ? '非' : ''}表示\n                                </Button>\n                            )\n                    }\n                </div>\n                {\n                    showsInput ? (\n                        <div className=\"mt-3\">\n                            <OthersCountInput\n                                currentOthersCount={plan.requirementToOthersCount.get(requirement) || { acquired: 0, registered: 0 }}\n                                onReturn={onOthersCountsChange} onHide={() => setShowsInput(false)}\n                            />\n                        </div>\n                    ) : (<></>)\n                }\n                <Accordion.Collapse eventKey=\"0\">\n                    {\n                        courses.length === 0 ? (<></>) : (\n                            <div className=\"mt-3\">\n                                <CourseList requirement={requirement} courses={courses} plan={plan}\n                                    onCourseClick={course => onCourseClick(course, requirement)}\n                                />\n                            </div>\n                        )\n                    }\n                </Accordion.Collapse>\n            </Accordion>\n        </>\n    );\n}\n\nconst SelectionRequirementView = ({ requirement, showsOnlyRegistered, plan, onCourseClick, onOthersCountsChange, onSelectionChange }: {\n    requirement: SelectionRequirement,\n    showsOnlyRegistered: boolean,\n    plan: Plan,\n    onCourseClick: (course: Course, requirement: RequirementWithCourses) => void,\n    onOthersCountsChange: (requirement: RequirementWithCourses, newOthersCount: RegisteredCreditsCounts) => void,\n    onSelectionChange: (selectionName: string, newOptionName: string) => void,\n}) => {\n    const selectedOptionName = requirement.getSelectedOptionName(plan.selectionNameToOptionName);\n    const selectedRequirement = requirement.getSelectedRequirement(plan.selectionNameToOptionName);\n\n    const handleOptionClick = (newOptionName: string) => {\n        if (selectedOptionName !== newOptionName) {\n            onSelectionChange(requirement.selectionName, newOptionName);\n        }\n    };\n\n    return (\n        <>\n            <Dropdown>\n                <Dropdown.Toggle id=\"\" variant=\"secondary\">\n                    <span style={{\n                        overflow: 'hidden',\n                        textOverflow: 'ellipsis',\n                    }}>\n                        {requirement.selectionName}\n                        <> : </>\n                        <strong>{selectedOptionName}</strong>\n                    </span>\n                </Dropdown.Toggle>\n\n                <Dropdown.Menu style={{ zIndex: 1100 }}>\n                    {\n                        requirement.options.map(option => (\n                            <Dropdown.Item key={option.name}\n                                active={option.name === selectedOptionName}\n                                onClick={() => handleOptionClick(option.name)}\n                            >\n                                {option.name}\n                            </Dropdown.Item>\n                        ))\n                    }\n                </Dropdown.Menu>\n            </Dropdown>\n            {\n                selectedRequirement === undefined ? (<></>) : (\n                    <div className=\"mt-3\">\n                        <RequirementView\n                            requirement={selectedRequirement} showsOnlyRegistered={showsOnlyRegistered} plan={plan}\n                            onCourseClick={onCourseClick} onOthersCountsChange={onOthersCountsChange}\n                            onSelectionChange={onSelectionChange}\n                        />\n                    </div>\n                )\n            }\n        </>\n    );\n}\n\nconst RequirementView = ({ requirement, showsOnlyRegistered, plan, onCourseClick, onOthersCountsChange, onSelectionChange }: {\n    requirement: Requirements,\n    showsOnlyRegistered: boolean,\n    plan: Plan,\n    onCourseClick: (course: Course, requirement: RequirementWithCourses) => void,\n    onOthersCountsChange: (requirement: RequirementWithCourses, newOthersCount: RegisteredCreditsCounts) => void,\n    onSelectionChange: (selectionName: string, newOptionName: string) => void,\n}) => {\n    if (requirement instanceof RequirementWithChildren) {\n        return (\n            <RequirementWithChildrenView\n                requirement={requirement} showsOnlyRegistered={showsOnlyRegistered} plan={plan}\n                onCourseClick={onCourseClick} onOthersCountsChange={onOthersCountsChange} onSelectionChange={onSelectionChange}\n            />\n        )\n    } else if (requirement instanceof RequirementWithCourses) {\n        return (\n            <RequirementWithCoursesView\n                requirement={requirement} showsOnlyRegistered={showsOnlyRegistered} plan={plan}\n                onCourseClick={onCourseClick}\n                onOthersCountsChange={creditsCounts => onOthersCountsChange(requirement, creditsCounts)}\n            />\n        )\n    } else {\n        return (\n            <SelectionRequirementView\n                requirement={requirement} showsOnlyRegistered={showsOnlyRegistered} plan={plan}\n                onCourseClick={onCourseClick} onOthersCountsChange={onOthersCountsChange} onSelectionChange={onSelectionChange}\n            />\n        );\n    }\n}\n\nexport default RequirementView;\n","import React, { useState } from \"react\";\nimport { Button, Card, Modal } from \"react-bootstrap\";\nimport Plan from \"./Plan\";\nimport { RequirementWithCourses } from \"./Requirements\";\nimport { RequirementSummaryView } from \"./RequirementView\";\n\nconst CourseMovementConfirmationModal = ({ currentRequirement, plan, onReturn, onExited }: {\n    currentRequirement: RequirementWithCourses,\n    plan: Plan,\n    onReturn: (value: boolean) => void,\n    onExited: () => void,\n}) => {\n    const [show, setShow] = useState(true);\n\n    return (\n        <Modal show={show} onHide={() => { setShow(false); onReturn(false); }} onExited={onExited}>\n            <Modal.Body>\n                <p>\n                    この科目はすでに以下の要件に割り当てられています。\n                    <strong>続けると、この要件への割り当ては解除されます。</strong>\n                </p>\n                <p>各科目に割り当てできる要件は1つまでです。</p>\n                <Card body>\n                    <RequirementSummaryView requirement={currentRequirement} plan={plan} />\n                </Card>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" onClick={() => { setShow(false); onReturn(false); }}>キャンセル</Button>\n                <Button variant=\"primary\" onClick={() => { setShow(false); onReturn(true); }}>続ける</Button>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default CourseMovementConfirmationModal;","import React, { useState } from 'react';\n\nconst getValueFromModal = async <T, P>(\n    ModalType: React.ComponentType<{\n        onReturn: (value: T) => void,\n        onExited: () => void,\n    } & P>,\n    props: P,\n    setModalsAndCount: React.Dispatch<React.SetStateAction<ModalsAndCount>>,\n): Promise<T> => new Promise((resolve, reject) => {\n    try {\n        setModalsAndCount(({ modals, count }) => {\n            const modal = (\n                <ModalType\n                    {...props}\n                    onReturn={value => resolve(value)}\n                    onExited={() => setModalsAndCount(\n                        ({ modals, count }) => ({\n                            modals: modals.filter(value => value !== modal),\n                            count,\n                        })\n                    )}\n                    key={count}\n                />\n            );\n            return ({\n                modals: [...modals, modal],\n                count: count + 1,\n            })\n        });\n    } catch (e) {\n        reject(e);\n    }\n});\n\nexport interface ModalsAndCount {\n    readonly modals: readonly JSX.Element[];\n    readonly count: number;\n}\n\nconst initialModalsAndCount: ModalsAndCount = {\n    modals: [],\n    count: 0,\n};\n\nexport const useModals = () => {\n    const [modalsAndCount, setModalsAndCount] = useState(initialModalsAndCount);\n    return {\n        modals: modalsAndCount.modals,\n        setModalsAndCount,\n    };\n};\n\nexport default getValueFromModal;","import React, { useState } from 'react';\nimport { Form } from 'react-bootstrap';\nimport Course from './Course';\nimport CourseMovementConfirmationModal from './CourseMovementConfirmationModal';\nimport getValueFromModal, { useModals } from './getValueFromModal';\nimport Plan from './Plan';\nimport RegistrationStatus from './RegistrationStatus';\nimport Requirements, { RegisteredCreditsCounts, RequirementWithChildren, RequirementWithCourses, SelectionRequirement } from './Requirements';\nimport RequirementView from './RequirementView';\n\nconst RequirementsRootView = ({ requirement, plan, onChange }: {\n    requirement: Requirements,\n    plan: Plan,\n    onChange: (newPlan: Plan) => void,\n}) => {\n    const { courseToStatus, courseToRequirement, requirementToOthersCount, selectionNameToOptionName } = plan;\n\n    const [showsOnlyRegistered, setShowsOnlyRegistered] = useState(false);\n    const { modals, setModalsAndCount } = useModals();\n\n    const handleCourseClick = async (course: Course, requirement: RequirementWithCourses) => {\n        const currentStatus: RegistrationStatus = courseToStatus.get(course) || RegistrationStatus.Unregistered;\n        const currentRequirement = courseToRequirement.get(course);\n        let newCourseToStatus = courseToStatus;\n        if (currentStatus === RegistrationStatus.Unregistered || currentRequirement === requirement) {\n            newCourseToStatus = new Map([\n                ...courseToStatus,\n                [\n                    course,\n                    showsOnlyRegistered ?\n                        currentStatus === RegistrationStatus.Acquired ? RegistrationStatus.Registered : RegistrationStatus.Acquired :\n                        (currentStatus + 1) % 3\n                ]\n            ]);\n        } else if (\n            currentRequirement !== undefined &&\n            !await getValueFromModal(\n                CourseMovementConfirmationModal,\n                { currentRequirement, plan },\n                setModalsAndCount\n            )\n        ) {\n            return;\n        }\n        onChange({\n            ...plan,\n            courseToStatus: newCourseToStatus,\n            courseToRequirement: new Map([...courseToRequirement, [course, requirement]]),\n        });\n    }\n\n    const clearCourseToRequirement = (requirement: Requirements, newCourseToRequirement: Map<Course, RequirementWithCourses>) => {\n        if (requirement instanceof RequirementWithChildren) {\n            for (const child of requirement.children) {\n                clearCourseToRequirement(child, newCourseToRequirement);\n            }\n        } else if (requirement instanceof RequirementWithCourses) {\n            for (const course of requirement.courses) {\n                if (newCourseToRequirement.get(course) === requirement) {\n                    newCourseToRequirement.delete(course);\n                }\n            }\n        } else {\n            const selectedRequirement = requirement.getSelectedRequirement(selectionNameToOptionName);\n            if (selectedRequirement !== undefined) {\n                clearCourseToRequirement(selectedRequirement, newCourseToRequirement);\n            }\n        }\n    }\n\n    const clearCourseToRequirementInSelection = (selectionName: string, requirement: Requirements, newCourseToRequirement: Map<Course, RequirementWithCourses>) => {\n        if (requirement instanceof RequirementWithChildren) {\n            for (const child of requirement.children) {\n                clearCourseToRequirementInSelection(selectionName, child, newCourseToRequirement);\n            }\n        } else if (requirement instanceof SelectionRequirement && requirement.selectionName === selectionName) {\n            clearCourseToRequirement(requirement, newCourseToRequirement);\n        }\n    }\n\n    const handleOthersCountsChange = (requirement: RequirementWithCourses, newOthersCount: RegisteredCreditsCounts) => {\n        onChange({\n            ...plan,\n            requirementToOthersCount: new Map([\n                ...requirementToOthersCount,\n                [requirement, newOthersCount]\n            ]),\n        });\n    }\n\n    const handleSelectionChange = (selectionName: string, newOptionName: string) => {\n        const newCourseToRequirement = new Map(courseToRequirement);\n        clearCourseToRequirementInSelection(selectionName, requirement, newCourseToRequirement);\n        onChange({\n            ...plan,\n            courseToRequirement: newCourseToRequirement,\n            selectionNameToOptionName: new Map([...selectionNameToOptionName, [selectionName, newOptionName]]),\n        });\n    }\n\n    return (\n        <>\n            {modals}\n            <Form.Check custom className=\"mb-3\" id=\"showsOnlyRegisteredCheck\"\n                label=\"履修する科目のみ表示する\"\n                checked={showsOnlyRegistered}\n                onChange={() => setShowsOnlyRegistered(!showsOnlyRegistered)}\n            />\n            <div className=\"my-3\">\n                <RequirementView\n                    requirement={requirement} showsOnlyRegistered={showsOnlyRegistered} plan={plan}\n                    onCourseClick={handleCourseClick} onOthersCountsChange={handleOthersCountsChange}\n                    onSelectionChange={handleSelectionChange}\n                />\n            </div>\n        </>\n    );\n}\n\nexport default RequirementsRootView;","import 'bootstrap/dist/css/bootstrap.min.css';\nimport React, { useState } from 'react';\nimport { Alert, Container, Navbar } from 'react-bootstrap';\nimport { useLocalStorage } from 'react-use';\nimport './App.css';\nimport codeToCourse from './courses';\nimport Plan, { emptyPlan, fromJSON, PlanJSON, toJSON } from './Plan';\nimport requirementAndDictionaryMap from './requirements/';\nimport RequirementSelector, { defaultSelected } from './RequirementSelector';\nimport RequirementsRootView from './RequirementsRootView';\n\nconst COURSES_STATE = \"courses-state\"\n\nconst App = () => {\n    const [selected, setSelected] = useState(defaultSelected);\n    const { plan, setPlan } = usePlan(selected.name);\n\n    return (\n        <>\n            <Navbar variant=\"dark\" bg=\"dark\">\n                <Navbar.Brand>卒業要件を満たしたい</Navbar.Brand>\n            </Navbar>\n            <Container>\n                <Alert variant=\"danger\" className=\"mt-3\">\n                    このツールの結果を利用する場合、必ず履修要覧や支援室などでその結果が正しいことを確認するようにしてください。\n                    <strong>科目や要件の定義が誤っていたり、実際には認められない履修の組み合わせがある可能性があります。</strong>\n                </Alert>\n                <RequirementSelector onChange={setSelected} />\n                <RequirementsRootView requirement={selected.requirement} plan={plan} onChange={setPlan} />\n            </Container>\n        </>\n    );\n}\n\nconst usePlanMap = () => {\n    const [storedJSON, setStoredJSON] = useLocalStorage<readonly (readonly [string, PlanJSON])[]>(COURSES_STATE);\n    const [planMap0, setPlanMap0] = useState(() => {\n        try {\n            const storedPlanEntries = storedJSON.map(([requirementName, planJSON]) => {\n                const requirementAndDictionary = requirementAndDictionaryMap.get(requirementName);\n                if (requirementAndDictionary === undefined) {\n                    return undefined;\n                } else {\n                    try {\n                        return [requirementName, fromJSON(planJSON, {\n                            codeToCourse,\n                            nameToRequirement: requirementAndDictionary.dictionary,\n                        })] as const;\n                    } catch {\n                        return undefined;\n                    }\n                }\n            }).filter((value): value is NonNullable<typeof value> => value !== undefined);\n            const storedPlanMap: ReadonlyMap<string, Plan> = new Map(storedPlanEntries);\n            return storedPlanMap;\n        } catch {\n            const storedPlanMap: ReadonlyMap<string, Plan> = new Map();\n            return storedPlanMap;\n        }\n    });\n    const setPlanMap = (newPlanMap: ReadonlyMap<string, Plan>) => {\n        const planJSONEntries = [...newPlanMap].map(([requirementName, plan]) => [requirementName, toJSON(plan)] as const);\n        setPlanMap0(newPlanMap);\n        setStoredJSON(planJSONEntries);\n    };\n    return {\n        planMap: planMap0,\n        setPlanMap,\n    };\n}\n\nconst usePlan = (requirementName: string) => {\n    const { planMap, setPlanMap } = usePlanMap();\n\n    const plan = planMap.get(requirementName) || emptyPlan;\n    const setPlan = (newPlan: Plan) => {\n        const newPlanMap = new Map([\n            ...planMap,\n            [requirementName, newPlan]\n        ]);\n        setPlanMap(newPlanMap);\n    };\n\n    return { plan, setPlan };\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'react-app-polyfill/stable';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}